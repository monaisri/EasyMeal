<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">EasyMeal</div>
    <div class="top-actions">
      <span id="userLabel" class="user-label hidden"></span>
      <button id="loginBtn" class="btn small" onclick="location.href='login.html'">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
      <button id="logoutBtn" class="btn small hidden" onclick="doLogout()">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>
  </header>

  <main class="container">
    <h2>‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏£?</h2>

    <div class="shopGrid">

      <div class="shopCard" onclick="openShop('somtum')">
        <div class="imgBox">
          <img src="img/‡∏´‡∏ô‡πâ‡∏≤ Menu/‡∏™‡πâ‡∏°‡∏ï‡∏≥.webp" class="shopImg">
        </div>
        <h3>‡∏£‡πâ‡∏≤‡∏ô‡∏™‡πâ‡∏°‡∏ï‡∏≥</h3>
      </div>

      <div class="shopCard" onclick="openShop('tamsang')">
        <div class="imgBox">
          <img src="img/‡∏´‡∏ô‡πâ‡∏≤ Menu/‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á.jpg" class="shopImg">
        </div>
        <h3>‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á</h3>
      </div>

      <div class="shopCard" onclick="openShop('noodle')">
        <div class="imgBox">
          <img src="img/‡∏´‡∏ô‡πâ‡∏≤ Menu/‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πä‡∏¢‡∏ß.webp" class="shopImg">
        </div>
        <h3>‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß</h3>
      </div>

      <div class="shopCard" onclick="openShop('friedchicken')">
        <div class="imgBox">
          <img src="img/‡∏´‡∏ô‡πâ‡∏≤ Menu/‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î.jpg" class="shopImg">
        </div>
        <h3>‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î</h3>
      </div>

      <div class="shopCard" onclick="openShop('dessert')">
        <div class="imgBox">
          <img src="img/‡∏´‡∏ô‡πâ‡∏≤ Menu/‡∏ö‡∏¥‡∏á‡∏ã‡∏π.jpg" class="shopImg">
        </div>
        <h3>‡∏£‡πâ‡∏≤‡∏ô‡∏ö‡∏¥‡∏á‡∏ã‡∏π</h3>
      </div>
    </div>

    <div class="adBanner">
    <button class="adBtn adPrev" onclick="prevSlide()">‚ùÆ</button>

    <div class="adSlides" id="adSlides"></div>

    <button class="adBtn adNext" onclick="nextSlide()">‚ùØ</button>
</div>



  </main>

<script>
function openShop(shop){
  localStorage.removeItem('cart');
  localStorage.setItem('currentShop', shop);
  location.href = 'menu.html?shop=' + shop;
}

// **[‡πÄ‡∏£‡∏¥‡πà‡∏°]** ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤/‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ô‡∏π‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤ (‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å Path ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà)
const adData = [
    { title: '‡∏ï‡∏≥‡∏õ‡∏π‡∏õ‡∏•‡∏≤‡∏£‡πâ‡∏≤‡∏™‡∏∏‡∏î‡πÅ‡∏ã‡πà‡∏ö', description: '‡∏£‡πâ‡∏≤‡∏ô‡∏™‡πâ‡∏°‡∏ï‡∏≥', img: 'somtum/‡∏ï‡∏≥‡∏õ‡∏π‡∏õ‡∏•‡∏≤‡∏£‡πâ‡∏≤.webp', shop: 'somtum' },
    { title: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏≠‡∏ö', description: '‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á', img: '‡∏ï‡∏≤‡∏°‡∏™‡∏±‡πà‡∏á/‡∏Å‡∏∞‡πÄ‡∏û‡∏£‡∏≤‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏≠‡∏ö.jpg', shop: 'tamsang' },
    { title: '‡πÄ‡∏¢‡πá‡∏ô‡∏ï‡∏≤‡πÇ‡∏ü‡∏≠‡∏£‡πà‡∏≠‡∏¢‡∏ñ‡∏∂‡∏á‡πÉ‡∏à', description: '‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß', img: 'noodle/‡πÄ‡∏¢‡πá‡∏ô‡∏ï‡∏≤‡πÇ‡∏ü.jpg', shop: 'noodle' },
    { title: '‡∏ô‡πà‡∏≠‡∏á‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î‡∏Å‡∏£‡∏≠‡∏ö', description: '‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏Å‡πà‡∏ó‡∏≠‡∏î', img: 'friedchicken/‡∏ô‡πà‡∏≠‡∏á‡πÑ‡∏Å‡πà.webp', shop: 'friedchicken' },
    { title: '‡∏ö‡∏¥‡∏á‡∏ã‡∏π ‡∏°‡∏±‡∏à‡∏â‡∏∞', description: '‡∏£‡πâ‡∏≤‡∏ô‡∏ö‡∏¥‡∏á‡∏ã‡∏π', img: 'dessert/‡∏°‡∏±‡∏à‡∏â‡∏∞.jpg', shop: 'dessert' },
];

const slidesContainer = document.getElementById('adSlides');
adData.forEach(data => {
    const item = document.createElement('div');
    item.className = 'adItem';
    // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏ô‡∏±‡πâ‡∏ô
    item.onclick = () => openShop(data.shop);
    item.innerHTML = `
        <img src="img/${data.img}" alt="${data.title}">
        <div style="flex-grow:1">
            <h4>${data.title}</h4>
            <p>${data.description}</p>
        </div>
        <div class="adCallToAction">‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡∏¢</div>
    `;
    slidesContainer.appendChild(item);
});

let currentSlide = 0;
const totalSlides = adData.length;

function nextSlide() {
    currentSlide++;
    if (currentSlide >= totalSlides) {
        currentSlide = 0;
    }
    const offset = -currentSlide * 100;
    slidesContainer.style.transform = `translateX(${offset}%)`;
}

// ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡πÑ‡∏•‡∏î‡πå‡∏ó‡∏∏‡∏Å 4000 ‡∏°‡∏¥‡∏•‡∏•‡∏¥‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (4 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
setInterval(nextSlide, 6000);

// üü¢ ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á User Label ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏∏‡πà‡∏° Login/Logout
let user = localStorage.getItem('user');
const userLabel = document.getElementById('userLabel');
const loginBtn = document.getElementById('loginBtn');
const logoutBtn = document.getElementById('logoutBtn');

userLabel.innerText = user || 'Guest';

if(user) {
  userLabel.classList.remove('hidden');
  loginBtn.classList.add('hidden');       // üî¥ ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏° '‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö'
  logoutBtn.classList.remove('hidden');   // üü¢ ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏° '‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö'
} else {
  loginBtn.classList.remove('hidden'); 
  logoutBtn.classList.add('hidden'); 
}

// üü¢ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà: ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
function doLogout(){
  localStorage.removeItem('user');
  alert('‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
  location.href = 'index.html';
}

// **[‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î]** ‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤/‡πÅ‡∏ö‡∏ô‡πÄ‡∏ô‡∏≠‡∏£‡πå ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

function nextSlide() {
    currentSlide++;
    if (currentSlide >= totalSlides) {
        currentSlide = 0;
    }
    const offset = -currentSlide * 100;
    slidesContainer.style.transform = `translateX(${offset}%)`;
}

function prevSlide() {
    currentSlide--;
    if (currentSlide < 0) {
        currentSlide = totalSlides - 1;
    }
    const offset = -currentSlide * 100;
    slidesContainer.style.transform = `translateX(${offset}%)`;
}

</script>

</body>
</html>